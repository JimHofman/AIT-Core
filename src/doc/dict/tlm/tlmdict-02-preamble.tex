%=======================================================================
% JPL Project Document LaTeX Template
%
% Template Author: Laura Alisic Jewell (23-Nov-2015)
%
% Copyright: 2015 California Institute of Technology.  United States
% Government sponsorship acknowledged.  ALL RIGHTS RESERVED.
%=======================================================================

% Acronym list
\usepackage{acronym}

% Bibliography
\usepackage[round]{natbib}

% Math and other symbols
\usepackage{array}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{commath}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{textcomp}

% Bytefield For packet diagrams
\usepackage{bytefield}
\usepackage{longtable}
\usepackage{tabu}

% Inconsolata for fixed-width fonts
\usepackage{inconsolata}

% Use of color names in text
\usepackage[usenames,dvipsnames]{xcolor}

% Author comments
\usepackage{xspace}
\newcommand{\todo}[1]{{\noindent\textit{\color{red} Todo: #1}}\xspace}
\newcommand{\note}[1]{{\noindent\textit{\color{blue} Note: #1}}\xspace}

% Adjust page layout
\usepackage{layout}
\usepackage[margin=1.2in]{geometry}

% Create headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}

% Header: Document number and document type (short)
\lhead[\mission \, \jpldoc, \, \revision]{\mission \, \jpldoc, \, \revision}
\rhead[\docdate]{\docdate}

% Footer: JPL Export Compliance, Page Number
\cfoot{\vspace{4ex}
    \footnotesize{The technical data in this document is controlled
    under the U.S.  Export Regulations, release to foreign persons may
    require an export authorization.}}
\rfoot[\thepage]{}

% Fonts
\usepackage{alltt}
% \usepackage{cmbright}
\usepackage{mathpazo}
\usepackage[T1]{fontenc}

% Change spacing in itemization
\usepackage{paralist}
\let\itemize\compactitem
\let\enditemize\endcompactitem
\let\enumerate\compactenum
\let\endenumerate\endcompactenum
\let\description\compactdesc
\let\enddescription\endcompactdesc
\pltopsep=\medskipamount
\plitemsep=2pt
\plparsep=1pt

% Definition of labels in itemizations
\renewcommand{\labelitemi}{$\circ$}
\renewcommand{\labelitemii}{$\mathbf{\cdot}$}
\renewcommand{\labelitemiii}{$-$}

% Figures
%\usepackage[font={scriptsize,sl}]{subfig}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}

% Define placeholder figure, with variable height
% Use as: \placeholder{height}
\newcommand{\placeholder}[1]{
    \setlength{\fboxsep}{#1}
    \framebox[\textwidth]{\textcolor{red}{[FIGURE PLACEHOLDER]}}
}

% Adjust caption layout
\captionsetup{font={sl,small},labelfont={bf},margin=0pt}

% Use sections, not chapters
\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\theequation}{\arabic{equation}}
\renewcommand{\thefigure}{\arabic{figure}}
\renewcommand{\thetable}{\arabic{table}}

% Set the number of levels of sections that get numbers:
% Setting this to 4 will number subsubsections
\setcounter{secnumdepth}{4}

% Format table of contents (see specification of custom layout for table of
% contents below)
\usepackage[titles]{tocloft}

% Make sections bold in table of contents
\renewcommand{\cftsecfont}{\bfseries}
\renewcommand{\cftsecpagefont}{\bfseries}

% Modify the dot fill spacing in table of contents
\renewcommand{\cftdotsep}{0}

% Bold dots for sections
%\renewcommand{\cftsecleader}{\bfseries\cftdotfill{\cftsecdotsep}}

% Alternatively, no dots for sections in table of contents
\renewcommand{\cftsecdotsep}{\cftnodots}

% No dots for subsections in table of contents
%\renewcommand{\cftsubsecdotsep}{\cftnodots}

% Larger spacing between sections in table of contents
\setlength{\cftbeforesecskip}{2ex}

% Set depth of table of contents
% Setting this to 3 will include subsubsections
\setcounter{tocdepth}{3}

\usepackage{underscore}

% Formatting of hyperlinks
% This must be defined as the last package to avoid conflicts with other
% packages!
\usepackage{hyperref}
\usepackage{url}
\hypersetup{
    colorlinks,
    citecolor=RoyalBlue,
    filecolor=RoyalBlue,
    linkcolor=RoyalBlue,
    urlcolor=RoyalBlue,
}

% Set autoref to print 'section' and not 'subsection'
% This must be defined after all packages are called!
\let\subsectionautorefname\sectionautorefname
\let\subsubsectionautorefname\sectionautorefname

%=======================================================================

% Custom table of contents
% Condense table of contents and figure/table lists onto one page

\makeatletter

% Redefine table of contents
\renewcommand{\contentsname}{Table of Contents}
\renewcommand{\tableofcontents}{%
  \null\hfill\textbf{\Large\contentsname}\hfill
  \vspace{2ex}
  \@mkboth{\MakeUppercase\contentsname}{\MakeUppercase\contentsname}
  \@starttoc{toc}\vspace{12ex}
}

% Redefine list of figures
% FIXME: Title not centered
\renewcommand{\listfigurename}{
    \hfill\textbf{\Large{List of Figures}}\hfill
}

% Redefine list of tables
% FIXME: Title not centered
\renewcommand{\listtablename}{
    \hfill\textbf{\Large{List of Tables}}\hfill
}

\makeatother
